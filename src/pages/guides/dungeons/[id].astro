---
import Dungeon from "@/layouts/Dungeon.astro";
import DungeonDetails from "@/components/DungeonDetails.astro";
import dungeons from "@dungeons";

export function getStaticPaths() {
  return [
    {params: {id: 'archmonsters'}},
    {params: {id: 'dungeons'}},
    {params: {id: 'quests'}},
    {params: {id: 'treasures'}}
  ]
}

const { id } = Astro.params

if (!id) {
  return {
    status: 404,
  };
}

let dungeonID = parseInt(id.slice(0, id.indexOf("-")));

const dungeon = dungeons.find((d) => d.id === dungeonID);
---

<Dungeon title={id || ""}>
  <DungeonDetails dungeonObject={dungeon} />
</Dungeon>
